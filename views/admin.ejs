<%- include('./includes/header.ejs') %>


<div class="container my-5">
  <h1 class="mb-4 text-danger">📜 Liste des posts</h1>
  <a href="/admin/posts/new" class="btn btn-danger mb-3">➕ Nouveau Post</a>

  <table class="table table-hover align-middle">
    <thead class="table-dark">
      <tr>
        <th>Titre</th>
        <th>Type</th>
        <th>Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% posts.forEach(post => { %>
        <tr>
          <td><a href="/posts/<%= post.id %>" class="text-decoration-none"><%= post.title %></a></td>
          <td><%= post.type %></td>
          <td><%= new Date(post.date).toLocaleString() %></td>
          <td>
            <a href="/admin/posts/edit/<%=post.id%>" class="btn btn-sm btn-warning">✏️ Modifier</a>
            <form action="/admin/posts/delete/<%= post.id %>" method="POST" class="d-inline">
              <button type="submit" class="btn btn-sm btn-danger">🗑 Supprimer</button>
            </form>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>

<%- include('./includes/footer.ejs') %>
